{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrastyle %}
  {{ block.super }}
  <style type="text/css">
    body {
      background: #1b1b1b;
    }
  </style>
{% endblock %}

{% block bodyclass %}login{% endblock %}
{% block header %}{% endblock %}
{% block page_nav %}{% endblock %}
{% block breadcrumbs %}{% endblock %}
{% block content_title %}{% endblock %}

{% block coltype %}hero-unit{% endblock %}

{% block content %}
  <div id="logo-container">
    <img id="logo-image" src="{% static 'core/img/logo-globe.png' %}" alt="openIPAM" />
    <h1>openIPAM</h1>
  </div>
  <div class="pull-right">
    <div id="content-main">
      <form action="{{ app_path }}" method="post" id="login-form" class="form-horizontal">{% csrf_token %}
        {% if form.errors and not form.non_field_errors and not form.this_is_the_login_form.errors %}
          <p class="errornote">
          {% blocktrans count form.errors.items|length as counter %}Please correct the error below.{% plural %}Please correct the errors below.{% endblocktrans %}
          </p>
        {% endif %}
        {% if form.non_field_errors or form.this_is_the_login_form.errors %}
          {% for error in form.non_field_errors|add:form.this_is_the_login_form.errors %}
          <p class="errornote">
              {{ error }}
          </p>
          {% endfor %}
        {% endif %}
        <div class="control-group{% if form.username.errors %} error{% endif %}">
          <label for="id_username" class="required control-label">{% trans 'Username:' %}</label>
          <div class="controls">
            {{ form.username }}
            {% if form.username.errors %}<div class="help-div">{{ form.username.errors }}</div>{% endif %}
          </div>
        </div>
        <div class="control-group{% if form.password.errors %} error{% endif %}">
          <label for="id_password" class="required control-label">{% trans 'Password:' %}</label>
          <div class="controls">
            {{ form.password }}
            {% if form.password.errors %}<div class="help-div">{{ form.password.errors }}</div>{% endif %}
          </div>
          <input type="hidden" name="this_is_the_login_form" value="1" />
          <input type="hidden" name="next" value="{{ next }}" />
        </div>
        <div class="pull-right">
          <button type="submit" class="btn btn-primary">{% trans 'Log in' %}</button>
          <a href="{% url 'password_reset' %}" class="btn btn-info">{% trans 'Forgot Password' %}</a>
        </div>
        <div class="clear"><!-- --></div>
      </form>

      <script type="text/javascript">
        document.getElementById('id_username').focus()
      </script>
    </div>
  </div>
{% endblock %}
